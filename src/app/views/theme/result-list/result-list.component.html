<div class="animated fadeIn">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            {{'c_result_header' | translate}}: {{exam_config.exam_title}}
          </div>
          <div class="card-body">
            <table class="table table-responsive-sm table-hover table-condensed table-outline mb-0">
              <thead class="thead-light">
                <tr>
                  <th class="text-center"><i class="icon-people"></i></th>
                  <th class="text-left"></th>
                  <th class="text-left"><input type="text" class="form-control" name="c_name" [(ngModel)]="filter.c_name" placeholder="{{'name' | translate}}"></th>
                  <th class="text-left"><input type="text" class="form-control" name="email" [(ngModel)]="filter.email" placeholder="{{'email' | translate}}"></th>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="text-center"></th>
                  <th class="text-center"></th>          
                </tr> 
              </thead>
              <thead class="thead-light">
                <tr>
                  <th class="text-center"><i class="icon-people"></i></th>
                  <th class="text-left">{{'candidate_id' | translate}}</th>
                  <th class="text-left">{{'name' | translate}}</th>
                  <th class="text-left">{{'email' | translate}}</th>
                  <th class="text-center">{{'stime' | translate}}</th>
                  <th class="text-center">{{'etime' | translate}}</th>
                  <th class="text-center">{{'te_om' | translate}}</th>
                  <th class="text-center">{{'te_nm' | translate}}</th>
                  <th class="text-center">{{'te_sm' | translate}}</th>
                  <th class="text-center">{{'overall_m' | translate}}</th>
                  <th class="text-center">{{'check_review_result' | translate}}</th>
                  <th class="text-center"> 
<!--                    <button type="button" (click)="publishAllResult()" class="btn btn-block btn-dark">
                      {{'publish_all' | translate}}
                    </button>  -->
                </th>          
                </tr> 
              </thead>
              <tbody>
                 <tr *ngFor="let exam_result of exam_results | bookfilter:filter; let idx = index" [ngClass]="{'table-success': exam_result.is_completed == '0'}">
                  <td class="text-center">
                    <strong>{{idx+1}}</strong>  
                  </td>
                  <td class="text-left">
                    <strong>{{exam_result.candidate_id}}</strong>  
                  </td>
                  <td class="text-left">
                    <strong>{{exam_result.c_name}}</strong>  
                  </td>
                  <td class="text-left">
                    <strong>{{exam_result.email}}</strong>  
                  </td>
                  <td class="text-center">
                    <strong>
                      {{exam_result.start_time| date :'longDate' : '+0000'}} {{exam_result.start_time | date :'shortTime' : '+0000'}}
                    </strong>  
                  </td>
                  <td class="text-center">
                    <strong>
                      {{exam_result.end_time | date :'longDate' : '+0000'}} {{exam_result.end_time | date :'shortTime' : '+0000'}}
                    </strong>  
                  </td>
                  <td class="text-center">
                    <strong>{{exam_result.total_pos}}</strong>  
                  </td>
                  <td class="text-center">
                    <strong>{{exam_result.total_neg}}</strong>  
                  </td>
                  <td class="text-center">
                    <strong>{{exam_result.total_sub}}</strong>  
                  </td>
                  <td class="text-center">
                    <strong *ngIf="exam_result.is_completed == '0'">{{exam_result.total_pos + exam_result.total_sub - exam_result.total_neg}}</strong>
                    <strong *ngIf="0 > exam_result.is_completed">{{'review_pending' | translate}}</strong> 
                  </td>
                  <td>           
                    <button type="button" (click)="reviewResult(exam_result.candidate_id)" class="btn btn-block btn-info">
                      {{'check_review_result' | translate}}
                    </button>                 
                  </td>
                  <td>           
                    <button [disabled]="0 > exam_result.is_completed" type="button" (click)="publishResult(exam_result.candidate_id, exam_result.total_pos + exam_result.total_sub - exam_result.total_neg)" class="btn btn-block btn-warning">
                      {{'publish_result' | translate}}
                    </button>                 
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="card-footer">
            <angular2csv [data]="exam_results" filename="{{exam_config.exam_title}}.csv" [options]="options" class="btn btn-sm btn-primary">
            </angular2csv>
          </div>
        </div>
      </div><!--/.col-->
    </div><!--/.row-->
  </div>
  